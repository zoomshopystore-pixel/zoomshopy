<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ZoomShopy â€” Forgot Password</title>
<style>
  body{font-family:Inter,Roboto,sans-serif;display:flex;justify-content:center;align-items:center;height:100vh;margin:0;background:#f3f7fb;}
  .card{background:white;padding:30px;border-radius:12px;width:350px;text-align:center;box-shadow:0 4px 10px rgba(0,0,0,0.1);}
  input,button{width:100%;padding:10px;margin:10px 0;border-radius:6px;border:1px solid #ccc;font-size:14px;}
  button{background:#00b4ff;color:white;border:none;cursor:pointer;}
  .status{margin-top:10px;font-weight:600;color:#444;}
</style>
</head>
<body>

<div class="card">
  <h2>Forgot Password</h2>
  <input id="email" type="email" placeholder="Enter your email" />
  <button id="reset-btn">Send Reset Email</button>
  <p>Remembered your password? <a href="signin.html">Sign In</a></p>
  <div class="status" id="status"></div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
import { getAuth, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyDiidI7VfMw5fN0SfKDeQwrLK4HAFfhg78",
  authDomain: "zoom-shopy.firebaseapp.com",
  projectId: "zoom-shopy",
  storageBucket: "zoom-shopy.appspot.com",
  messagingSenderId: "521524635595",
  appId: "1:521524635595:web:c93b6caf4d77ec8525b84e"
};
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const status = document.getElementById("status");

document.getElementById("reset-btn").addEventListener("click", async () => {
  const email = document.getElementById("email").value.trim();
  if(!email){ status.textContent="Enter your email"; status.style.color="red"; return; }

  try {
    await sendPasswordResetEmail(auth, email);
    status.textContent = `Password reset email sent to ${email}. Check your inbox.`; 
    status.style.color = "green";
  } catch(err) {
    console.error(err);
    if(err.code==="auth/user-not-found") status.textContent="No account found with this email.";
    else status.textContent="Failed to send reset email.";
    status.style.color="red";
  }
});
</script>

</body>
</html>
